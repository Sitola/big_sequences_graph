<!DOCTYPE html>
<html>
    <head>
        <title>
            Graph big number files
        </title>

        <link ref="stylesheet" href="css/layout.css"/>
        <link ref="stylesheet" href="js/c3/c3.min.css"/>

        <script src="js/d3.min.js">

        </script>

        <script src="js/d3_handle.js"></script>
        <script src="js/websocket_handler.js"></script>


        <style>

            body {
                font: 10px sans-serif;
            }

            .axis path,
            .axis line {
                fill: none;
                stroke: #000;
                shape-rendering: crispEdges;
            }

            .x.axis path {
                display: none;
            }

            .line {
                fill: none;
                stroke: steelblue;
                stroke-width: 1.5px;
            }

        </style>



    </head>

    <body>
        <div id="container">
            <ul>
                <li>
                    <button id="genNew">Generate new Random</button>
                </li><li>
                    <button id="genDomain">Generate new Domain</button>
                </li>
                <li>
                    <input type="text" value="wss://localhost:10888/" id="ws_host" />
                    <button id="ws_connect">Connect!</button>
                </li>
            </ul>

        </div>



        <script>

            var main = function() {

                var data = null;
                var dataSize = 255;
                var hwnd = new D3_handle();


                function dummy_data(length, lower, upper) {

                    lower = lower || 50;
                    upper = upper || 200;
                    var range = upper - lower;


                    var result = [];
                    for (var i = 0; i < length; i++) {
                        var y = Math.floor(Math.random() * range) + lower;
                        result.push({x: i, y: y});
                    }
                    return result;
                }

                d3.select("#genNew").on("click", function() {
                    data = dummy_data(dataSize);
                    hwnd.data = data;
                    hwnd.updatePath();
                });

                d3.select("#genDomain").on("click", function()
                {
                    data = dummy_data(dataSize, 100, 1000);
                    hwnd.updateData(data);
                    hwnd.updatePath();
                });
                hwnd.data = dummy_data(255);

                hwnd.updatePath();


            };


            main();





        </script>


    </body>




</html>